# ==============================================================================
# external-dns Environment Configuration
# ==============================================================================
# Copy this file to `.env` for local docker-compose runs.
#
# IMPORTANT: For production deployments, update all service URLs, credentials,
# and IP addresses to match your environment. The defaults are configured for
# local development with the included docker-compose stack.
# ==============================================================================

# ------------------------------------------------------------------------------
# Network Configuration
# ------------------------------------------------------------------------------
# Docker network subnet for service communication.
# Default: 172.52.0.0/16
# NETWORK_SUBNET=172.52.0.0/16

# ------------------------------------------------------------------------------
# AdGuard Home Configuration
# ------------------------------------------------------------------------------
# Container and image settings
# ADGUARD_CONTAINER_NAME=adguard
# ADGUARD_IMAGE=adguard/adguardhome:latest

# Network settings
# ADGUARD_IP=172.52.0.10
# ADGUARD_WEB_PORT=3000
# DNS_PORT=53

# Volume paths (local development defaults)
# ADGUARD_CONF_PATH=./docker/local/adguard/conf
# ADGUARD_WORK_PATH=./docker/local/adguard/work

# API connection settings (used by external-dns)
# Default URL assumes services are on the same Docker network.
# Production: Use your AdGuard Home instance URL (e.g., http://192.168.1.5:3000)
# ADGUARD_URL=http://adguard:3000
# ADGUARD_USERNAME=admin
ADGUARD_PASSWORD=password

# ------------------------------------------------------------------------------
# Traefik Configuration
# ------------------------------------------------------------------------------
# Container and image settings
# TRAEFIK_CONTAINER_NAME=traefik
# TRAEFIK_IMAGE=traefik:v3.6.4

# Network settings
# TRAEFIK_IP=172.52.0.11
# TRAEFIK_HTTP_PORT=80
# TRAEFIK_API_PORT=8080

# Single-instance Traefik URL (legacy mode)
# Default URL assumes services are on the same Docker network.
# Production: Use your Traefik instance URL (e.g., http://192.168.1.10:8080)
# TRAEFIK_URL=http://traefik:8080

# Target IP for DNS records when using single-instance mode
# This is the IP that DNS records will resolve to.
# Production: Set to your Traefik server's LAN IP (e.g., 192.168.1.10)
# TRAEFIK_TARGET_IP=

# Multi-instance Traefik configuration (JSON array, overrides single-instance)
# Example:
# TRAEFIK_INSTANCES=[{"name": "primary", "url": "http://192.168.1.10:8080", "target_ip": "192.168.1.10"}]

# ------------------------------------------------------------------------------
# external-dns Service Configuration
# ------------------------------------------------------------------------------
# Container and image settings
# EXTERNAL_DNS_CONTAINER_NAME=external-dns
# EXTERNAL_DNS_IMAGE=external-dns:local

# Volume paths (local development defaults)
# EXTERNAL_DNS_CONFIG_PATH=./docker/local/external-dns/config
# EXTERNAL_DNS_DATA_PATH=./docker/local/external-dns/data

# Provider selection
# DNS_PROVIDER=adguard
# PROXY_PROVIDER=traefik

# Sync behavior
# SYNC_MODE: "watch" (continuous polling) or "once" (single run)
# SYNC_MODE=watch
# POLL_INTERVAL_SECONDS=5

# Config file path (inside container)
# CONFIG_PATH=/config/config.yaml

# State file path (inside container)
# STATE_PATH=/data/state.json

# Logging level: DEBUG, INFO, WARNING, ERROR
# LOG_LEVEL=INFO

# ------------------------------------------------------------------------------
# DNS Record Configuration
# ------------------------------------------------------------------------------
# Default zone for discovered routes: "internal" or "external"
# - internal: Create DNS rewrites in local DNS provider
# - external: Skip local DNS (queries forwarded to upstream)
# EXTERNAL_DNS_DEFAULT_ZONE=internal

# Domain exclusion patterns (comma-separated)
# Supports: exact match, wildcards (*.internal.*), regex (~^dev-\d+\.example\.com$)
# Example: EXTERNAL_DNS_EXCLUDE_DOMAINS=auth.example.com,*.internal.*
# EXTERNAL_DNS_EXCLUDE_DOMAINS=

# Static DNS rewrites (comma-separated)
# Format: domain or domain=ip
# Example: EXTERNAL_DNS_STATIC_REWRITES=static.example.com,other.example.com=10.0.0.5
# EXTERNAL_DNS_STATIC_REWRITES=

# ------------------------------------------------------------------------------
# Whoami Test Service Configuration
# ------------------------------------------------------------------------------
# Container and image settings (for local testing)
# WHOAMI_CONTAINER_NAME=whoami
# WHOAMI_IMAGE=traefik/whoami:latest
# WHOAMI_HOST=whoami-internal.localtest.me
